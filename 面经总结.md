## MySQL
### 1）数据库的三大范式

**第一范式：** 表中的所有字段都是原子的。不可以将多个值存在一个字段中
**第二范式：** 非主键字段必须完全依赖于主键。如`用户信息表(用户ID，用户名，城市，...)`城市与用户ID无关，可以将城市移动到其他表中。
**第三范式：** 非主键字段必须直接依赖于主键，不能存在传递依赖。如`用户信息表(用户ID，用户名，年龄，出生日期，...)`，年龄可以通过出生日期计算得出，所以年龄也依赖于出生日期，而不是直接依赖于用户ID。

### 2）关系型数据库和非关系型数据库的优缺点对比，及应用场景

**数据结构：** 关系型数据库的数据结构是表格形式，数据以行列的形式存储，；非关系型数据库的数据结构是文档形式，数据以键值对的形式存储

**扩展性:**  非关系型数据库具有很好的可扩展性，可以通过添加更多的节点来实现扩展，这样可以轻松地处理大量的数据。相比之下，关系型数据库的扩展性较差，需要在单个服务器上增加处理能力或者增加更多的服务器，这需要更多的资源和时间。

**事务性能:**  关系型数据库具有很好的事务性能，支持ACID事务，保证数据的一致性和可靠性。相比之下，非关系型数据库不支持完全的ACID事务，但是可以通过分布式事务来实现数据的一致性。

**数据查询:**  关系型数据库具有很好的数据查询能力，可以使用SQL语言进行复杂的查询操作。相比之下，非关系型数据库的查询语言较为简单，不支持复杂的查询操作。

**数据存储：** 关系型数据库可以保证数据的完整性和一致性，但是存储空间较大。相比之下，非关系型数据库的存储空间较小，但是可能会出现数据的不一致性。

关系型数据库：适合处理需要严格数据一致性和事务性能的应用程序，例如财务和交易系统。
非关系型数据库：适合处理大量的非结构化和半结构化数据，例如社交网络和日志系统。同时，在一些需要快速读写的场景中，非关系型数据库的性能优势更为明显。

**3）MySQL和PostgreSQL、MongoDB、Redis的区别和应用场景**

-   从数据库类型、存放数据的格式、持久化方式、是否支持索引和事务等方面展开
    

**4）ORM框架，采用ORM框架的优缺点**

**5）如何对数据库进行优化**

-   从字段、事务、索引、避免全表查询等角度展开


**6）JOIN和UNION的区别**

**7）如何进行多表查询**

**8）为什么要分库分表，如何进行分库分表**

**9）left union、inner union的区别**

**10）主从复制的原理**

-   为何需要主从复制，原理是什么，如何去实现主从复制
    

**11）一条SQL语句的执行过程，SELECT是如何执行的，UPDATE是如何执行的**

-   连接器---缓存---分析器---优化器---执行器
    

**12）什么是索引，为什么要用索引，索引的优缺点**

**13）索引的实现方式/索引采用的数据结构，它们之间的区别**

-   B+树，Hash，B树
    
-   B+树和B树的区别
    
-   B+树和Hash的区别
    
-   B+树索引的缺点
    

**14）索引的类型、索引的种类**

-   FULLTEXT，BTREE，HASH等
    
-   主键索引，组合索引，唯一索引等
    

**15）聚簇索引和非聚簇索引**

**16）什么是回表查询，非聚簇索引一定要回表查询吗**

**17）索引的应用场景**

**18）索引什么时候会失效**

**19）唯一索引和主键索引的区别**

**20）给出一条SQL，判断是否走联合索引**

**21）最左前缀匹配规则**

**22）Mysql中sql语句执行太慢，是什么原因，怎么解决，用什么命令查看**

**23）如何查看是否应用索引**

**24）加了索引为什么会变快**

**25）MySQL数据库有哪些锁**

**26）共享锁、更新锁、排他锁**

**27）什么是死锁，如何解决死锁，如何避免死锁？**

**28）数据库的行锁和表锁**

**29）什么是脏读、不可重复读、幻读**

**30）事务的隔离级别**

**31）事务的四大特性（ACID），MySQL是如何实现ACID的**

**32）MySQL的存储引擎**

**33）MVCC**
# 计算机网络

## 1）五层模型、七层模型

> 各层模型的名字、原理；常用的部件和协议；很多面试官会从最基础的问题开始问起，从而考察对整个计算机网络的理解。

**七层参考模型：**
- 应用层：为应用程序之间提供通信服务，例如 HTTP、DNS 等协议
- 表示层：数据格式转换、数据加密解密等，这使得应用程序不必关心在各台主机中数据内部格式不同的问题。
- 会话层：负责建立、管理、维护通信会话
- 传输层：为进程之间提供通信服务，如TCP、UDP协议
- 网络层：实现异构网络的互连，为分组交换网络上的不同主机提供通信服务，如IP、ARP、RARP、ICMP协议
- 数据链路层：相邻节点之间的直接数据通信，提供透明传输、封装成帧、差错检测等
- 物理层：考虑的是怎样在传输媒体上传输数据比特流。物理层的作用是尽可能屏蔽传输媒体和通信手段的差异，使数据链路层感觉不到这些差异。

## 2）http报文首部有哪些，分别代表什么含义

需要列举出一些常用的首部

**3）http与https的区别**

> http+加密+证书+完整性检查=https

**HTTP协议存在的安全性问题：**
- 使用明文传输，可能遭到窃听
- 不验证通信身份，可能遭遇伪装
- 不验证消息的完整性，可能遭遇篡改

HTTPS采用的方案如下
**混合加密（对称加密与非对称加密），保证信息的机密性，解决窃听风险**

**摘要算法和数字签名**

**数字证书，保证公钥的身份不被伪装**

**4）http常见的状态码**

**5）http报文的格式**

**6）http1.0、http1.1、http2.0、http3.0、https及其各自的区别**

**HTTP1.0：** 短链接


**HTTP/1.1 相比 HTTP/1.0 性能上的改进：**
-   使用**长连接**的方式改善了 HTTP/1.0 短连接造成的性能开销。
-   支持**管道（pipeline）网络传输**，只要第一个请求发出去了，不必等其回来，就可以发第二个请求出去，可以减少整体的响应时间。

**HTTP/1.1 的性能瓶颈：**
-   内容编码：请求 / 响应头部（Header）未经压缩就发送，首部信息越多延迟越大。只能压缩 `Body` 的部分；发送冗长的首部。每次互相发送相同的首部造成的浪费较多；
-   队头阻塞：HTTP/1.1 的实现是基于请求-响应模型的。服务器是按请求的顺序响应的，如果服务器响应慢，会招致客户端一直请求不到数据；
-   没有请求优先级控制；
-   请求只能从客户端开始，服务器只能被动响应。

**HTTP/2 相比 HTTP/1.1 性能上的改进：**
-   头部压缩：`HPACK` 算法：在客户端和服务器同时维护一张头信息表，所有字段都会存入这个表，生成一个索引号，以后就不发送同样字段了，只发送索引号，这样就**提高速度**了。
-   二进制格式：对计算机非常友好，因为计算机只懂二进制，那么收到报文后，无需再将明文的报文转成二进制，而是直接解析二进制报文，这**增加了数据传输的效率**。
-   并发传输：一个TCP报文可以同时包含多个流。**针对不同的 HTTP 请求用独一无二的 Stream ID 来区分，接收端可以通过 Stream ID 有序组装成 HTTP 消息，不同 Stream 的帧是可以乱序发送的，因此可以并发不同的 Stream ，也就是 HTTP/2 可以并行交错地发送请求和响应**。
-   服务器主动推送资源

**HTTP/2 的缺陷：**
- 传输层队头阻塞：HTTP2.0基于流的并发传输解决了应用层的对头阻塞问题，但是由于传输层采用的TCP协议，并没有从根本上解决问题

**HTTP/3 相比 HTTP/2 性能上的改进：**
-  基于UDP的QUIC可靠传输协议，具有无队头阻塞、更快的连接建立、连接迁移等优点

**7）http如何实现长连接**
	1. HTTP Keep-Alive
    2.  WebSocket
    WebSocket是一种基于TCP协议的协议，它允许客户端和服务器在同一个连接上进行全双工通信。与HTTP协议不同，WebSocket连接是持久的，并且可以在不发送HTTP请求的情况下发送和接收数据。
	

**8）http短连接长连接，tcp短连接长连接，二者的关系**
HTTP协议是基于TCP协议的，因此HTTP的短连接和长连接实际上是TCP的短连接和长连接的不同使用方式。

TCP短链接和长连接：在TCP短连接中，每次请求和响应都需要建立一个新的连接，数据传输完成后立即关闭连接，这种连接方式通常适用于只传输一次数据的情况。而在TCP长连接中，客户端和服务器在同一个连接上进行多次交换请求和响应，连接在请求完成后不会立即关闭，而是保持打开状态，直到其中一方主动关闭连接或发生超时等情况。TCP长连接通常用于需要多次传输数据的场景，可以避免频繁建立和关闭连接的开销。

## 9）http断点重传
> HTTP分块传输

HTTP断点重传是指在文件下载过程中，如果下载中断，客户端可以通过发送HTTP Range请求从指定位置继续下载文件，而不需要重新下载整个文件。需要服务器支持Range请求和正确处理Range请求，同时客户端也需要正确处理服务器返回的Content-Range头部。

## 10）http2.0如何实现多路复用

## 11）http1.1为什么不能实现多路复用

## 12）浏览器输入一个URL的全过程

## 13）websocket与http的区别是什么？

## 14）cookie和session

> 二者的流程、实现原理和区别

cookie 和 session 都是常用的用户状态管理技术。

cookie流程如下：
1. 客户端第一次访问服务器时，服务器会在HTTP响应头中添加Set-Cookie字段，将一个唯一的标识符保存在客户端的Cookie中，以便在后续的请求中可以识别该客户端。
2.  客户端每次向服务器发送请求时，都会将保存在本地的Cookie一起发送给服务器。
3.  服务器收到请求后，通过解析Cookie中的标识符，可以获取到客户端的状态信息，从而判断用户是否已经登录或其他需要保存的状态信息。

session流程如下：
1.  客户端第一次访问服务器时，服务器会在内存中创建一个唯一的Session对象，并在HTTP响应头中添加一个Set-Cookie字段，将Session的标识符保存在客户端的Cookie中。
2.  客户端每次向服务器发送请求时，都会将保存在本地的Cookie一起发送给服务器。
3.  服务器收到请求后，通过解析Cookie中的Session标识符，可以获取到对应的Session对象，从而获取到客户端的状态信息。
4.  服务器可以在Session对象中保存客户端的状态信息，比如用户ID、购物车信息等。

两者区别在于：
1. 存储位置不同：cookie存在本地，session存在服务端
2. 安全性：cookie安全行较低，session安全性较高
3. 存储容量不同：cookie一般只有4KB，session 容量取决服务器


**15）如何实现cookie**

**16）tls/ssl的原理，握手挥手流程**

TLS/SSL的握手挥手流程：
1.  客户端向服务器发送一个加密连接请求，请求中包含了客户端支持的加密算法、版本号和随机数等信息。 
2.  服务器收到请求后，回应一个证书，其中包含服务器的公钥以及相关信息。
3.  客户端验证服务器的证书，如果证书合法，则生成一个随机数作为后续通信的密钥，并用服务器的公钥进行加密，发送给服务器。
4.  服务器收到客户端发送的密钥后，使用自己的私钥进行解密，得到密钥，并回复客户端表示已经准备好进行加密通信。
5.  通信双方使用协商好的对称密钥，对后续的通信数据进行加密和解密

**17）TCP三次握手和四次挥手**
> 标志位、状态位、如何用linux命令查看

Linux命令：
1.  查看TCP连接状态
可以使用`netstat`命令查看当前TCP连接的状态。使用`-n`选项可以显示IP地址和端口号，使用`-t`选项可以显示TCP连接。例如，可以使用以下命令查看TCP连接状态：`netstat -nt`

2.  查看TCP连接过程
可以使用`tcpdump`命令来捕获TCP连接的数据包，从而查看TCP连接过程。例如，可以使用以下命令捕获TCP连接过程：
`sudo tcpdump -i eth0 tcp port 80`
其中，`-i`选项指定网卡接口，`tcp`表示只捕获TCP协议的数据包，`port 80`表示只捕获目标端口为80的数据包。

3.  查看TCP连接状态变化
可以使用`ss`命令来查看TCP连接状态的变化。例如，可以使用以下命令查看TCP连接状态的变化：
`ss -n state established`
其中，`-n`选项表示显示IP地址和端口号，`state established`表示只显示状态为`ESTAB`（已建立连接）的TCP连接。

**18）tcp和udp的区别、应用场景**

TCP应用场景：需要可靠性的场景文件传输、网页浏览等；需要传输大文件的场景
UDP应用场景：低延迟场景，如实时音视频等；丢失不影响的场景，如多媒体流传输等

**19）tcp粘包**

**20）tcp三次握手，为什么不是两次握手和四次握手**

**21）tcp四次挥手，三次行不行**

**22）tcp在应用层的应用**

> udp在应用层的应用呢？

**23）tcp如何保证可靠传输**


**24）如何让udp实现可靠传输**

**25）tcp的重传机制**

**26）tcp的流量控制**

**27）tcp的拥塞控制**

**28）time_wait是主动断连方的还是被动断连方的，存在的原因是什么，哪些应用场景要调小time_wait的时间长度**

**29）tcp中，为啥有了流量控制，还需要拥塞控制**

**30）接收端如何判断ip数据报是否完整（从网络编程角度）**

**31）ping的时候，发生了什么**

> 用了哪些协议，源ip和目的ip在过程中是如何变化的

**32）如何防止前端发过来的数据被篡改？**

**33）md5加解密，可逆嘛？**

**34）对称加密，安全吗**

**35）网络编程中，如何去掉time wait时间**

**36）socket的返回值是什么**

**37）什么是子网，如何求子网掩码**

**38）socket通信服务端的流程**

**39）select poll epoll**

定义，区别

**40）IO事件的水平触发和边缘触发（LT和ET）**

**41）reactor的三种模型**

**42）水平触发和边缘触发具体怎么获取数据**
   

# 米哈游

![img](.\images\9A05173BE7744D568D91E2D88A421BFD)

## 计算机网络

1. 问虚拟内存是什么，有什么好处 

2. 问什么时候诱发缺页中断，问是不是每次访存都要经过操作系统，问知不知道MMU(内存管理单元) 

3. 问什么是空间局部性，对编程有什么启发 

4. 问为什么32位整型数可以直接做加减法 

5. 问怎么理解粘包，如何解决

## C/C++

1. float类型底层是啥样的，精度大概小数点后几位？
1. map和unordered_map的区别，红黑树的插入一个数怎么调整？
1. 问vector和list的区别，空间分布上的区别 
1. 问vector是怎么扩容的 
1. 问unordered_map的空间复杂度 
1. 给了一段代码 

```C++
class A
{
    public:
        int &x;
};
```

 问x怎么初始化（没见过这样写的，没答出来） 

7. 问怎么获取虚函数表的地址(没见过这个问题，也没答出来) 
8. A类是基类，B继承A，C继承A，D继承B和C，现在A里面有一个成员x，问D里有几个x。如果我只想留一份x怎么办，手写一下。
9. 问运行时怎么根据虚函数表找到具体该调用哪个函数
10. 给了好几个类，类之间有继承关系，每个类里面定义了几个函数，有虚函数有普通函数，好多重名函数，然后写了几条语句问每条语句是执行了哪个函数，说出判断的理由。

# 奇安信

## 计算机网络 

- [x]  TCP为什么有四次握手？**** 
- [x]  HTTP状态码有哪些？常用状态码？** 
- [x]  OSI的七层网络模型，每一层对应的协议有哪些？*** 
- [x]  ping的工作原理 *** 
- [x]  TCP三次握手相关，三次握手与网络编程API的对应关系 ****** 
- [x]  实现客户端TCP通信需要用到的socket API *** 
- [x]  GET 和 POST的概念和区别 ** 
- [x]  HTTP请求报文和响应报文结构 ** 
- [x]  TCP与UDP的区别 *** 
- [x]  网络编程API的具体功能 *** 
- [x]  TCP 粘包 * 
- [x]  TCP的特性和保证特性的原理 ** 
- [x]  A、B、C三种网络的区分 
- [x]  IP头部校验具体校验的是什么？ * 
- [x]  网络路由协议 ** 
- [x]  对称加密和非对称加密的区别 ** 
- [x]  UDP协议的最大长度，超过最大长度会怎么样？ 
- [x]  HTTP与HTTPS的异同 *** 
- [x]  TCP滑动窗口的作用 
- [x]  CS模型 
- [ ]  非八股问题     
  - [x] 浏览器输入URL至显示网页的全过程 *** 
  - [x] 显示浏览器缓存时，还需要联网吗？还需要与服务器端进行通信吗？ 
  - [x] TCP连接中，服务端网线拔掉会怎么样？** 
  - [x] SYN FLood 攻击 ？ * 
  - [ ] 两个进程，socket的返回值相同，但确实不同的socket通道，为什么？ 
  - [ ] TCPdump 抓包 ** 
  - [ ] UDP大量传输时应该注意什么 
  - [ ] 怎么应对ddos攻击？ 
  - [ ] 访问牛客网的时候，你的本机会跟CA机构数据交互吗 ？ 

##  操作系统 

- [x] 进程和线程的区别 ******* 

- [x] 协程的相关概念，协程与线程的异同？** 

- [x] 读写锁的设计和应用场景 

- [x] 线程同步的概念及方法 ****** 

- [x] IO多路复用的概念 ** 

- [x] 多进程的通信方式？通信方式的优劣？ ******* 

- [x] 锁机制是如何实现的？* 

- [x] 信号量如何实现同步？* 

- [x] 僵尸进程的概念 ？* 

- [x] 进程调度 * 

- [x] epoll 及其触发模式 **** 

- [x] 什么是虚拟内存？ 

- [ ]  非八股问题     
  - [ ] 设计并发系统，怎么选择多线程和多进程，怎么考虑？ *** 
  
    **I/O密集型任务采用多线/进程提高效率，而CPU密集型任务减少线/进程**
  
    ***需要频繁创建销毁的优先用线程***
  
    ***需要进行大量计算的优先使用线程***
  
    ***`逻辑上强相关的处理用线程，逻辑上弱相关的处理用进程`***，`这是由于弱相关不需要数据的同步和共享，可以单独分配一个进程`
  
    
  
  - [ ] 多线程开发需要注意什么？为什么要进行[数据]()保护，不做保护会有什么后果？ 
  
  - [ ] 怎么实现一个守护进程？* 
  
  - [ ] main函数执行前的过程 
  
  - [ ] 如何设计生产者-消费者模型 
  
  - [ ] 单CPU多线程程序实现 ？协程实现更好
  
  - [ ] 多核情况下如何让进程运行在指定核上 

##  Linux 

- [x] 常用的Linux命令有哪些？*** 
- [x] 如何查看特定端口的连接信息 ** 
- [ ] shell脚本设计 
- [ ] 查看网络状态和CPU状态 
- [ ] gcc 、gdb、makefile的了解 **** 
- [x] 杀死进程命令 
- [x] 文件权限管理 
- [x] 怎么修改用户组？ 

##  [数据]()库 

- [x] MySQL中用到了哪些[数据]()结构？* 
- [x] Mysql索引的优势和类型 ****** 
- [x] B+树的具体特性的描述 ***** 
- [ ] [redis]()的简单了解 
- [ ] 基础SQL语句的编写 ** 
- [ ] Redis[数据]()结构 ** 
- [ ] 跳表的概念和相关使用 *** 
- [ ] mysql 如何优化 * 
- [ ] [redis]()的底层实现 * 
- [ ] 悲观锁和乐观锁 
- [ ] [数据]()库三大范式 
- [ ] mysql的锁 * 

##  [数据]()结构与[算法]() 

- [ ] [红黑树]() ***** 
- [ ] B+树 *** 
- [ ] 二叉搜索树 
- [ ] [排序]()[算法]()对比 ** 
- [ ] 快排 ** 
- [ ] [哈希表]()的实现及其线程安全 ** 
- [ ] 非八股问题     
  - [ ] 搜索引擎的提示功能的实现原理？ 
  - [ ] 设计一个秒杀系统 
  - [ ] 内存池的实现 ** 
  - [ ] 缓存设计 

##  C++ 

- [x] STL容器的了解 ******** 
  - [x] vector基本原理、优化（reserve优化、移动语义优化）
  - [x] deque基本原理，stack，queue
  - [x] list基本原理
  - [ ] map和set基本原理、红黑树特点与插入删除
  - [x] unordered_map和unorderd_set基本原理

- [x] 迭代器的实现原理和设计思路 ** 
- [x] 智能指针概念、实现原理和应用场景 ******* 
- [ ] 泛型编程、模板特化、仿函数的概念 **** 
- [x] 移动语义和右值 * 
- [x] C++11特性 ** 
- [ ] 单元[测试]() * 
- [x] 纯虚函数、多态、虚函数 ************** 
- [x] union、struct、class的区别 
- [x] 指针和数组、指针和引用的区别 **** 
- [ ] 内存对齐 ** 
- [ ] auto关键字 * 
- [ ] const关键字 ** 
- [x] private、protected、public 
- [ ] 堆、栈中存放的内容 
- [ ] strcpy功能及实现 ** 
- [ ] new 和 malloc、free和delete的区别 ** 
- [ ] 虚继承 
- [ ] sizeof和strlen的作用和区别 ** 
- [ ] bind函数的作用 
- [ ] memcpy与strcpy的区别、实现和效率比较 
- [ ] extern c的作用 
- [ ] 非八股问题     
  -  写一个类成员函数的函数指针 
  -  根据程序特点，选择调试的方法 
  -  struct中长度为0的数组的作用 
  -  g++链接动态链接库、动态库生成 

##  手撕 

-  快排 ** 
-  求根到叶子节点数字之和 
-  [链表]()反转（递归、迭代写法） ** 
-  最长公共子数组 
-  堆[排序]() 
-  [剑指offer]()机器人 
-  栈实现 
-  含有重复数字的全排列 
-  实现队列 
-  字符串逆序输出 

##  WebServer项目相关 

- [ ] 对于线程池的追问 ** 
- [ ] 并发模式的描述 ** 
- [ ] 阻塞IO和非阻塞IO的区别 ** 
- [ ] epoll和阻塞IO还是非阻塞IO搭配使用 
- [ ] reactor和proactor ** 
- [ ] 日志如何查找某些特定的记录 
- [ ] 如何设计一个定时器 *** 
- [ ] 每个客户端和服务端的连接时怎么保持的 
- [ ] 服务端架构及涉及的通信协议 
- [ ] epoll比select快的原因 ** 
- [ ] 实现一个webserver需要哪些模块 
- [ ] 日志系统设计 ** 
- [ ] WebServer的概要、难点、难点解决 
- [ ] 性能[测试]()、webserver服务器的性能瓶颈 
- [ ] 假设请求队列已满、工作线程都在工作，又有新的连接到达怎么处理？ 
- [ ] 如果服务器运行了一个月，突然down，怎么找出原因？ 
- [ ] 消息队列的具体使用场景和具体结构 
- [x] 实现阻塞队列



